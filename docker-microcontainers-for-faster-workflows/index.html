<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/BlogPosting" class="post-devops">
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Docker: A Microcontainer for Faster Software Workflows</title>
    <meta name="description" content="First steps to use docker">

    <!-- Google Authorship Markup -->
    <link rel="author" href="https://plus.google.com/+lovehuria?rel=author">

    <link rel="canonical" href="https://lhuria94.github.io/lhuria94.github.io/" />

    <!-- Social: Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@LoveHuria">
    <meta name="twitter:title" content="Docker: A Microcontainer for Faster Software Workflows">
    <meta name="twitter:description" content="First steps to use docker">
    
    <meta property="twitter:image:src" content="https://lhuria94.github.io/assets/img/">
    

    <!-- Social: Facebook / Open Graph -->
    <meta property="og:url" content="https://lhuria94.github.io/docker-microcontainers-for-faster-workflows/">
    <meta property="og:title" content="Docker: A Microcontainer for Faster Software Workflows">
    
    <meta property="og:image" content="https://lhuria94.github.io/assets/img/">
    
    <meta property="og:description" content="First steps to use docker">
    <meta property="og:site_name" content="Love Huria - Drupal, Javascript, Web">

    <!-- Social: Google+ / Schema.org  -->
    <meta itemprop="name" content="Docker: A Microcontainer for Faster Software Workflows"/>
    <meta itemprop="description" content="First steps to use docker">
    <meta itemprop="image" content="https://lhuria94.github.io/assets/img/blog-image.png"/>

    <!-- Favicon -->
    <link rel="shortcut icon" href="/assets/img/icons/favicon.ico" type="image/x-icon" />
    <!-- Windows 8 Tile Icons -->
    <meta name="application-name" content="Love Huria Blog">
    <meta name="msapplication-TileColor" content="#0562DC">
    <meta name="msapplication-square70x70logo" content="smalltile.png" />
    <meta name="msapplication-square150x150logo" content="mediumtile.png" />
    <meta name="msapplication-wide310x150logo" content="widetile.png" />
    <meta name="msapplication-square310x310logo" content="largetile.png" />
    <!-- Android Lolipop Theme Color -->
    <meta name="theme-color" content="">

    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="canonical" href="https://lhuria94.github.io/docker-microcontainers-for-faster-workflows/">
    <link rel="alternate" type="application/rss+xml" title="Love Huria - Drupal, Javascript, Web" href="https://lhuria94.github.io/feed.xml" />

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-100420990-1', 'auto');
      ga('send', 'pageview');
    </script>
</head>

    <body>
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" display="none" version="1.1"><defs><symbol id="icon-menu" viewBox="0 0 1024 1024"><path class="path1" d="M128 213.333h768q17.667 0 30.167 12.5t12.5 30.167-12.5 30.167-30.167 12.5h-768q-17.667 0-30.167-12.5t-12.5-30.167 12.5-30.167 30.167-12.5zM128 725.333h768q17.667 0 30.167 12.5t12.5 30.167-12.5 30.167-30.167 12.5h-768q-17.667 0-30.167-12.5t-12.5-30.167 12.5-30.167 30.167-12.5zM128 469.333h768q17.667 0 30.167 12.5t12.5 30.167-12.5 30.167-30.167 12.5h-768q-17.667 0-30.167-12.5t-12.5-30.167 12.5-30.167 30.167-12.5z"/></symbol><symbol id="icon-search" viewBox="0 0 951 1024"><path class="path1" d="M658.286 475.429q0-105.714-75.143-180.857t-180.857-75.143-180.857 75.143-75.143 180.857 75.143 180.857 180.857 75.143 180.857-75.143 75.143-180.857zM950.857 950.857q0 29.714-21.714 51.429t-51.429 21.714q-30.857 0-51.429-21.714l-196-195.429q-102.286 70.857-228 70.857-81.714 0-156.286-31.714t-128.571-85.714-85.714-128.571-31.714-156.286 31.714-156.286 85.714-128.571 128.571-85.714 156.286-31.714 156.286 31.714 128.571 85.714 85.714 128.571 31.714 156.286q0 125.714-70.857 228l196 196q21.143 21.143 21.143 51.429z"/></symbol><symbol id="icon-close" viewBox="0 0 805 1024"><path class="path1" d="M741.714 755.429q0 22.857-16 38.857l-77.714 77.714q-16 16-38.857 16t-38.857-16l-168-168-168 168q-16 16-38.857 16t-38.857-16l-77.714-77.714q-16-16-16-38.857t16-38.857l168-168-168-168q-16-16-16-38.857t16-38.857l77.714-77.714q16-16 38.857-16t38.857 16l168 168 168-168q16-16 38.857-16t38.857 16l77.714 77.714q16 16 16 38.857t-16 38.857l-168 168 168 168q16 16 16 38.857z"/></symbol><symbol id="icon-twitter" viewBox="0 0 951 1024"><path class="path1" d="M925.714 233.143q-38.286 56-92.571 95.429 0.571 8 0.571 24 0 74.286-21.714 148.286t-66 142-105.429 120.286-147.429 83.429-184.571 31.143q-154.857 0-283.429-82.857 20 2.286 44.571 2.286 128.571 0 229.143-78.857-60-1.143-107.429-36.857t-65.143-91.143q18.857 2.857 34.857 2.857 24.571 0 48.571-6.286-64-13.143-106-63.714t-42-117.429v-2.286q38.857 21.714 83.429 23.429-37.714-25.143-60-65.714t-22.286-88q0-50.286 25.143-93.143 69.143 85.143 168.286 136.286t212.286 56.857q-4.571-21.714-4.571-42.286 0-76.571 54-130.571t130.571-54q80 0 134.857 58.286 62.286-12 117.143-44.571-21.143 65.714-81.143 101.714 53.143-5.714 106.286-28.571z"/></symbol><symbol id="icon-facebook" viewBox="0 0 585 1024"><path class="path1" d="M548 6.857v150.857h-89.714q-49.143 0-66.286 20.571t-17.143 61.714v108h167.429l-22.286 169.143h-145.143v433.714h-174.857v-433.714h-145.714v-169.143h145.714v-124.571q0-106.286 59.429-164.857t158.286-58.571q84 0 130.286 6.857z"/></symbol><symbol id="icon-google-plus" viewBox="0 0 951 1024"><path class="path1" d="M420 454.857q0 20.571 18.286 40.286t44.286 38.857 51.714 42 44 59.429 18.286 81.143q0 51.429-27.429 98.857-41.143 69.714-120.571 102.571t-170.286 32.857q-75.429 0-140.857-23.714t-98-78.571q-21.143-34.286-21.143-74.857 0-46.286 25.429-85.714t67.714-65.714q74.857-46.857 230.857-57.143-18.286-24-27.143-42.286t-8.857-41.714q0-20.571 12-48.571-26.286 2.286-38.857 2.286-84.571 0-142.571-55.143t-58-139.714q0-46.857 20.571-90.857t56.571-74.857q44-37.714 104.286-56t124.286-18.286h238.857l-78.857 50.286h-74.857q42.286 36 64 76t21.714 91.429q0 41.143-14 74t-33.714 53.143-39.714 37.143-34 35.143-14 37.714zM336.571 400q21.714 0 44.571-9.429t37.714-24.857q30.286-32.571 30.286-90.857 0-33.143-9.714-71.429t-27.714-74-48.286-59.143-66.857-23.429q-24 0-47.143 11.143t-37.429 30q-26.857 33.714-26.857 91.429 0 26.286 5.714 55.714t18 58.857 29.714 52.857 42.857 38.286 55.143 14.857zM337.714 898.857q33.143 0 63.714-7.429t56.571-22.286 41.714-41.714 15.714-62.286q0-14.286-4-28t-8.286-24-15.429-23.714-16.857-20-22-19.714-20.857-16.571-23.714-17.143-20.857-14.857q-9.143-1.143-27.429-1.143-30.286 0-60 4t-61.429 14.286-55.429 26.286-39.143 42.571-15.429 60.286q0 40 20 70.571t52.286 47.429 68 25.143 72.857 8.286zM800.571 398.286h121.714v61.714h-121.714v125.143h-60v-125.143h-121.143v-61.714h121.143v-124h60v124z"/></symbol></defs></svg>

        <header class="bar-header">
    <h1 class="logo">
        <a href="/"></a>
    </h1>
</header>
<div class="search-wrapper">
    <div class="search-form">
        <input type="text" class="search-field" placeholder="Search...">
        <svg class="icon-remove-sign"><use xlink:href="#icon-close"></use></svg>
        <ul class="search-results search-list"></ul>
    </div>
</div>

<div id="fade" class="overlay"></div>
<a id="slide" class="slideButton fade">
    <svg id="open" class="icon-menu"><use xlink:href="#icon-menu"></use></svg>
    <svg id="close" class="icon-menu"><use xlink:href="#icon-close"></use></svg>
</a>
<aside id="sidebar">
<nav id="navigation">
  <h2>MENU</h2>
  <ul>
    
      <li><a href="https://lhuria94.github.io/">Home</a></li>
    
      <li><a href="https://lhuria94.github.io/tags">Tags</a></li>
    
      <li><a href="https://lhuria94.github.io/about">About Me</a></li>
    
    <li><a class="feed" href="https://lhuria94.github.io/feed.xml" title="Atom/RSS feed">Feed</a></li>
  </ul>
</nav>
</aside>
<a id="search" class="dosearch">
    <svg class="icon-menu icon-search"><use xlink:href="#icon-search"></use></svg>
</a>

<header class="header-post" role="banner">
     <div class="content">
        
            <time itemprop="datePublished" datetime="2017-02-11T07:32:44+00:00" class="date">11 Feb 2017</time>
        
        <h1 class="post-title" itemprop="name">Docker: A Microcontainer for Faster Software Workflows</h1>
        <p itemprop="description" class="subtitle">First steps to use docker</p>
    </div>
</header>
        <style>
  .l {
      position: fixed;
      z-index: 9999;
      right: 15px;
      bottom: 15px;
  }
  .l {
      background-color: rgba(0,0,0,0.7);
      border-radius: 0.75em;
      box-shadow: 0.125em 0.125em 0 0.125em rgba(0,0,0,0.3) inset;
      color: #fdea7b;
      font-size: 1.5em;
      display: inline-flex;
      align-items: center;
      margin: auto;
      padding: 0.15em;
      width: 3em;
      height: 1.5em;
      transition: background-color 0.1s 0.3s ease-out, box-shadow 0.1s 0.3s ease-out;
      -webkit-appearance: none;
      -moz-appearance: none;
      appearance: none;
      cursor: pointer;
  }
  .l:before, .l:after {
      content: "";
      display: block;
  }
  .l:before {
      background-color: #d7d7d7;
      border-radius: 50%;
      width: 1.2em;
      height: 1.2em;
      transition: background-color 0.1s 0.3s ease-out, transform 0.3s ease-out;
      z-index: 1;
  }
  .l:after {
      background:
          linear-gradient(transparent 50%, rgba(0,0,0,0.15) 0) 0 50% / 50% 100%,
          repeating-linear-gradient(90deg,#bbb 0,#bbb,#bbb 20%,#999 20%,#999 40%) 0 50% / 50% 100%,
          radial-gradient(circle at 50% 50%,#888 25%, transparent 26%);
      background-repeat: no-repeat;
      border: 0.25em solid transparent;
      border-left: 0.4em solid #d8d8d8;
      border-right: 0 solid transparent;
      transition: border-left-color 0.1s 0.3s ease-out, transform 0.3s ease-out;
      transform: translateX(-22.5%);
      transform-origin: 25% 50%;
      width: 1.2em;
      height: 1em;
  }
  /* Checked */
  .l:focus {
      /* Normally an anti-A11Y practice, but set to remove an annoyance just for this demo */
      outline: 0;
  }
  .l:checked {
      background-color: rgba(0,0,0,0.45);
      box-shadow: 0.125em 0.125em 0 0.125em rgba(0,0,0,0.1) inset;
  }
  .l:checked:before {
      background-color: currentColor;
      transform: translateX(125%)
  }
  .l:checked:after {
      border-left-color: currentColor;
      transform: translateX(-2.5%) rotateY(180deg);
  }
  </style>
  <input id="night-mode" class="l" type="checkbox" aria-label="nigth-mode">
        <section class="post">

            <article role="article" id="post" class="post-content" itemprop="articleBody">
                <p>Docker, a container-based technology which I just came across, is great for setting up environments. It was first introduced to the world by Solomon Hykes, founder and CEO of dotCloud at Python Developers Conference in Santa Clara, California, in March 2013. The project was quickly open-sourced and made available on GitHub, where anyone can download and contribute to it.</p>

<h2 id="containers-vs-virtual-machines">Containers vs. Virtual Machines</h2>

<p>You might be wondering, “What is the difference between Containers (like Docker) and Virtual Machines”?</p>

<p>Well, virtual machines (VM) work by creating a virtual copy of a computer’s hardware, and running a full operating-system on that virtual hardware. Each new VM that you create results in a new copy of that virtual hardware, which is computationally expensive. Many people use VMs because they allow you to run an application in a separate environment which can have it’s own versions of software and settings, which are different from the host machine.</p>

<p>On the other hand, container technologies like Docker, isolate the container’s environment, software, and settings, in a sandbox; but all sandboxes share the same operating-system kernel and hardware as the host computer. Each new container results in a new sandbox. This enables us to pack a lot more applications into a single physical server as compared to a virtual machine.</p>

<p>Docker containers are isolated enough that the root process in a container cannot see the host machine’s processes or filesystem. However, it may still be able to make certain system calls to the kernel that a regular user would not, because in Docker, the kernel is shared with the host machine. This is also why Docker containers are not virtual machines and thus a lot faster.</p>

<p>Note, however, that Docker relies on a technology which is only available in the Linux kernel. When you run Docker on a Windows or Macintosh host machine, Docker and all it’s containers run in a virtual machine.</p>

<p>That said, there are two projects trying to bring Docker-style containers natively to OS/X , Dlite and Xhyve. But last I heard, these projects were still very experimental. So consider yourself warned.</p>

<p>When you are done with a container, on a Mac host machine, it’s probably good to suspend the containers, because they run in a virtual machine and that has a lot of overhead. But on a Linux host machine, there would be no need to suspend them because they would not create (much) additional overhead (no more than, say, MAMP).</p>

<p>Docker is a tool that promises to scale into any environment, streamlining the workflow and responsiveness of agile software organizations.</p>

<h2 id="dockers-architecture">Docker’s Architecture</h2>

<p>This is a diagram explaining the basic client-server architecture which docker uses.
<img src="/assets/img/2016-07-11-docker-microcontainers-for-faster-workflows/architecture.png" alt="Docker architecture" /></p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="no">Image</span> <span class="ss">source: </span><span class="n">http</span><span class="ss">:/</span><span class="o">/</span><span class="n">www</span><span class="p">.</span><span class="nf">docker</span><span class="p">.</span><span class="nf">com</span></code></pre></figure>

<h2 id="important-terminology">Important Terminology</h2>
<ul>
  <li>Docker daemon: A Docker engine which runs on the host machine as shown in the image above.</li>
  <li>Docker client: A Docker cli which is used to interact with the daemon.</li>
</ul>

<h2 id="workflow-components">Workflow components</h2>
<ul>
  <li>Docker image: A read-only disk image in which environment &amp; your application resides.</li>
  <li>Docker container: A read/writeable instance of an image, which you can start, stop, move, and  delete.</li>
  <li>Docker registry: A public or private repository to store images.</li>
  <li>Dockerfile: A Dockerfile is instructions for how to build a single image. You can think of a Dockerfile as kind of Vagrantfile, or a single Chef cookbook, or an Ansible script, or a Puppet script.</li>
</ul>

<h2 id="microservices">Microservices</h2>

<p>Because Docker allows you to run so many containers at the same time, it has popularized the idea of microservices: a collection of containers, each of which contain a single program,  all of which work together to run a complex application (e.g. Drupal).</p>

<p>Taking Drupal as an example, every Drupal site has at least two dependencies: an HTTP server (Apache, Nginx, etc.) running PHP; and MySQL. The idea of microservices would involve packaging Apache+PHP separately from MySQL; as opposed to most Drupal virtual machine images which bundle them together into the same VM. For more complicated setups, you could add another container for Solr, another container for LDAP, etc.</p>

<p>For me, the main advantage of using microservices is that it’s easier to update or swap one dependency of an application without affecting the rest of it. Another way of looking at this is that microcontainers make it easier to modify one piece without waiting a long time for the virtual machine to rebuild.</p>

<p>When I was using a virtual machine on a particularly complex project, if I needed to make a change to a setting, I had to make that change in the Puppet config, then run vagrant destroy &amp;&amp; vagrant up and wait two hours for it to tell me that the new configuration wasn’t compatible with some other piece of the system. At which point I had to repeat the two hour process, which wasted a lot of time.</p>

<p>If I had been using Docker (properly), then I could have just changed the setting for that one program, rebuild that program’s container (5 seconds), and not have to worry that one piece of the machine needed at least Java 6 and the other piece of the machine could not work without Java 5.</p>

<p>Now that you know the possibilities with Docker, watch this space to find out how all this applies to Drupal.</p>

            </article>

            <section class="share">
    <h3>Share</h3>
    <a aria-label="Share on Twitter" href="https://twitter.com/intent/tweet?text=&quot;Docker: A Microcontainer for Faster Software Workflows&quot;%20https://lhuria94.github.io/docker-microcontainers-for-faster-workflows/%20via%20&#64;LoveHuria&hashtags=continuous integration,docker,drupal,git,planet drupal,"
    onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;" title="Share on Twitter">
        <svg class="icon icon-twitter"><use xlink:href="#icon-twitter"></use></svg>
    </a>
    <a aria-label="Share on Facebook"href="https://www.facebook.com/sharer/sharer.php?u=https://lhuria94.github.io/docker-microcontainers-for-faster-workflows/"
    onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;" title="Share on Facebook">
        <svg class="icon icon-facebook"><use xlink:href="#icon-facebook"></use></svg>
    </a>
    <a aria-label="Share on Google Plus" href="https://plus.google.com/share?url=https://lhuria94.github.io/docker-microcontainers-for-faster-workflows/"
    onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;" title="Share on Google+">
        <svg class="icon icon-google-plus"><use xlink:href="#icon-google-plus"></use></svg>
    </a>
</section>
            <section class="author" itemprop="author">
    <div class="details" itemscope itemtype="http://schema.org/Person">
        <img itemprop="image" class="img-rounded" src="/assets/img/blog-author.jpg" alt="">
        <p class="def">Author</p>
        <h3 class="name">
            <a itemprop="name" href="https://plus.google.com/+lovehuria/posts">Love Huria</a>
        </h3>
        <p class="desc">Senior Full Stack Web Developer at Srijan Technologies</p>
        <p><a itemprop="email" class="email" href="mailto:lovehuria@gmail.com">lovehuria@gmail.com</a></p>
        <p><a itemprop="github" class="github" href="https://github.com/lhuria94">github.com/lhuria94</a></p>
    </div>
</section>

            
                <section class="comments">
    <h3>Comments</h3>
    <div id="disqus_thread"></div>
</section>
<script type="text/javascript">
/**
 *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
 *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/

var disqus_config = function() {
    this.page.url = PAGE_URL; // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};

(function() { // DON'T EDIT BELOW THIS LINE
    var d = document,
        s = d.createElement('script');
    s.src = 'https://lhuria94-github-io.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

            
            <footer>
    <p>Copyright © 2019 Love Huria, Made with <a href="http://jekyllrb.com/" target="_blank">Jekyll</a></p>
</footer>
<script src="/assets/js/main.js"></script>

        </section>
    </body>
</html>
